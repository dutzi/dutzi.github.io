{"componentChunkName":"component---src-templates-blog-post-js","path":"/adding-a-commenting-system/","result":{"data":{"site":{"siteMetadata":{"title":"Things I've Learnt"}},"markdownRemark":{"id":"b095ca82-8e09-5dc9-90e6-129bdc4a404a","excerpt":"I was looking for a simple commenting system I could embed in my blog, my requirements were: Simple - I’m not looking for threading, reactions, Giphy…","html":"<p>I was looking for a simple commenting system I could embed in my blog, my requirements were:</p>\n<ol>\n<li>Simple - I’m not looking for threading, reactions, Giphy integration, uploading images or videos, etc… I just want a simple way for user to read and write comments.</li>\n<li>Serverless (for me) - Meaning I don’t need to set up a server for it.</li>\n<li>Customizable - I can customize its UI, either by provide my own CSS, or have extensive customization options.</li>\n<li>Markdown support.</li>\n<li>Free.</li>\n</ol>\n<p>I work <a href=\"https://www.spot.im/\">at a company</a> where our main product is an embeddable commenting system, so I consider myself as pretty knowledgeable in this field. That’s why I was surprised to learn about the many solutions I found I wasn’t already aware of.</p>\n<!-- I will now share my findings, after spending a day or so going through existing solutions. -->\n<h2>Off the Shelf Solutions</h2>\n<!-- Off the shelf solutions mostly have a some sort of , so that wasn't the good enough for my needs. -->\n<p>I didn’t go too in-depth when going through these kind of systems, since I wasn’t too happy with how customizable they were, so I will only skim through them.</p>\n<p>First, there’s <a href=\"https://disqus.com/\">Disqus</a>, they have a ton of features but customization is not one of them. I mean, they are customizable to some extent, but not what I was looking for. They have a pricing model where free usage is supported by ads, otherwise you pay $10-$100 a month.</p>\n<p>There’s also <a href=\"https://commento.io/\">Commento</a>, <a href=\"https://developers.facebook.com/docs/plugins/comments/\">Facebook Comments</a>, <a href=\"https://just-comments.com/\">Just Comments</a>, <a href=\"https://hyvor.com/\">Hyvor</a> and <a href=\"https://www.gatsbyjs.org/docs/adding-comments/\">others</a>. Again, not customizable enough.</p>\n<h2>Github Issues Based</h2>\n<p>As I was going through existing solutions a thought came to my mind - why not use Github Issues as a platform for comments?</p>\n<p>Theoretically, you can create an issue per each blog post you publish, and then using <a href=\"https://developer.github.com/v3/issues/\">Github’s extensive API</a>, display comments for that issue on your site, as if they were comments for your post, and let users add comments to that blog post by having them actually sent as comments to that Github issue.</p>\n<p>Excited with that idea I started working on a POC, I was very easily able to display comments (and on the way break <a href=\"https://developer.github.com/v3/#rate-limiting\">Github’s rate limits</a> by forgetting to provide a <code class=\"language-text\">useEffect</code> with a dependency list and causing my blog to send a bazillion requests to Github), then as I was trying to add Github’s OAuth login to my blog I found I wasn’t the first person to think about this “hack”.</p>\n<p>Turns out there are 3 different solutions based on the same idea.</p>\n<p><a href=\"https://github.com/imsun/gitment\">Gitment</a>, the first one I tried, seemed promising but I was just not able to set it up. After coming across some <code class=\"language-text\">alert</code>s and certification warnings, and seeing it had 129 open issues and almost two years since the last commit, I gave up. It’s approach was similar to what I had in mind, create an issue per each blog post, display the comments using Github’s API and, by creating a Github App for my blog and using it to get an auth token, let users submit comments directly from my blog. Too bad it doesn’t work anymore, but there were other solutions.</p>\n<p><a href=\"https://utteranc.es/\">Utterances</a>, the one that definitely stands out here. It doesn’t require setting up a Github App, but uses <a href=\"https://github.com/apps/utterances\">its own app</a> to get the token needed for submitting comments. It seems promising because it’s well maintained and its UI is very nice and consistent with Github’s (it’s based on <a href=\"https://primer.style/\">Primer</a>, GitHub’s design system). The only drawback, for me, was the lack of extensive customization options. Utterances opens up in an iframe, so you can’t just override its CSS, you are able to submit your own theme, but one that only overrides the colors and some spacing variables.</p>\n<p><a href=\"https://github.com/gitalk/gitalk\">Gitalk</a>, the one I ended up going with, is very similar to Gitment, except that it actually works. After creating the Github App (that’s needed for the token), and providing Gitalk with some basic parameters I was able to see it live on my blog. Then, by overriding its CSS I was easily able to play around with the way it looks.</p>\n<p>Gitalk will automatically create a Github Issue in your blog’s repository as soon as you visit a blog post page for the first time. So all I need to do is simply publish a post and visit its page. Awesome!</p>","frontmatter":{"title":"Commenting Solutions For Your Blog","date":"January 07, 2020","description":"Going through some commenting systems you can easily embed in your blog."}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/adding-a-commenting-system/","previous":{"fields":{"slug":"/hooks-i-made/"},"frontmatter":{"title":"Hooks!"}},"next":null}}}